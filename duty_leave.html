<!DOCTYPE html>
<html>
<head>
	
	<title>Duty Leave Form</title>
	<style>
		body {
			background-color: #dfeb63; /* set the background color to light gray */
			font-family: Arial, sans-serif;
			font-size: 18px;
			line-height: 1.5;
			margin: 4;
			padding: 2;
		}
		form {
			background-color: #c4d9f5; 
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			border: 1px solid #d3b2b2;
			border-radius: 10px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}
		label {
			display: block;
			margin-bottom: 10px;
			font-weight: bold;
		}
		input[type="text"], input[type="date"], textarea {
			display: block;
			width: 100%;
			padding: 10px;
			border-radius: 8px;
			border: 3px solid #ccc;
			box-sizing: border-box;
			margin-bottom: 30px;
		}
		input[type="submit"] {
			background-color: #4CAF50;
			color: white;
			padding: 10px 22px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 16px;
		}
		h1, h2 {
			text-align: center;
		}
	</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>



</head>
<body style="background-color: floralwhite;">

	<h1>NSS POLYTECHNIC COLLEGE</h1>
	<h2>Duty Leave Form</h2>

	<form onsubmit="printForm()">

		<label for="name">Name:<span style="color:red;">*</span></label>
		<input type="text" id="name" name="name" required>

		<label for="rollno">Roll number:<span style="color:red;">*</span></label>
		<input type="number" id="rollno" name="rollno" required> &nbsp;

		&nbsp;&nbsp;<label for="rollno">Reg number:<span style="color:red;">*</span></label>
		<input type="number" id="regno" name="regno" required><br>
		
		<br><label for="branch">Department:<span style="color:red;">*</span></label>
		<select id="branch" name="branch" required>
			<option value="">Select Department</option>
			<option value="Computer Engineering">Computer Engineering</option>
			<option value="Civil Engineering">Civil Engineering</option>
			<option value="Mechanical Engineering">Mechanical Engineering</option>
			<option value="Electrical & Electronics Engineering">Electrical & Electronics Engineering</option>
			<option value="Electronics & Communication Engineering">Electronics & Communication Engineering</option> 
		</select> &nbsp;&nbsp;&nbsp;
		

		<label for="sem">Semester:<span style="color:red;">*</span></label>
		<select id="sem" name="sem" required>
			<option value="">Select Semester</option>
			<option value="first">First</option>
			<option value="second">Second</option>
			<option value="third">Third</option>
			<option value="fourth">Fourth</option>
			<option value="fifth">Fifth</option>
			<option value="sixth">Sixth</option>
		</select> &nbsp;<br>
		
		<br><label for="date">Date:</label>
		<input type="date" id="date" name="date" placeholder="DD/MM/YYYY" required><br>
		<label for="reason">Reason for duty leave form: <span style="color:red;">*</span></label>
		<select id="reason" name="reason" required onchange="toggleOtherReason()">
			<option value="" selected disabled>Select reason</option>
			<option value="to volunteering for community service">Volunteering for community service</option>
			<option value="to participate in a competition, tournament, or athletic event">Sports</option>
			<option value="to join an arts program to develop my creative skills and gain experience in my field">Arts program</option>
			<option value="to take a civic/military exam">Civic/Military exam</option>
			<option value="to participate in NCC activities to serve my country, while also gaining practical knowledge">NCC</option>
			<option value="to participate in NSS activities and serve the community, while also gaining practical knowledge">NSS</option>
			<option value="to participate in state/national/international level events">Event participation</option>
			<option value="Other">Other</option>
		</select>
		
		<script>
			function toggleOtherReason() {
				var otherReasonInput = document.getElementById("other_reason");
				var reasonSelect = document.getElementById("reason");
				if (reasonSelect.value == "Other") {
					otherReasonInput.style.display = "inline-block";
					otherReasonInput.required = true;
				} else {
					otherReasonInput.style.display = "none";
					otherReasonInput.required = false;
				}
			}
		</script>
			<script>
				var prevPageUrl = document.referrer;
				function goBack() {
				  if(prevPageUrl){
					window.location.href = prevPageUrl;
				  } else {
					window.location.href = "file:///D:/minor%20pro/form_pages/form_project_navigation_page.html";
				  }
				}
			</script>
		
		<br><br>
		
		<input type="text" id="other_reason" name="other_reason" placeholder="Please specify" style="display:none;">
		
	<label for="l_date">Date of Leave:<span style="color:red;">*</span></label>
	<input type="date" id="l_date" name="l_date" required>


	<div class="d-grid gap-2 col-6 mx-auto">
		<br><input type="submit" value="Submit">
	  </div>
	
	<button type="button" class="btn btn-outline-danger" onclick="goBack()">Go Back</button>

</form>

<script>
	function printForm() {
		
			// Prevent the form from submitting
			event.preventDefault();

			// Get the form values
			const name = document.getElementById("name").value;
			const rollno = document.getElementById("rollno").value;
			const regno = document.getElementById("regno").value;
			const branch = document.getElementById("branch").value;
			const sem = document.getElementById("sem").value;
			const date = document.getElementById("date").value;
			const l_date = document.getElementById("l_date").value;
			const reason = document.getElementById("reason").value;
			const other_reason = document.getElementById("other_reason").value;

			

			const content = `
					
					<p><br><br><br></p>
					<p><strong>TO</strong></p> 
					<p><strong>Head of ${branch} Department,</strong></p> 
					<p><strong>NSS Polytechnic College,Pandalam</strong></p>
					<p><strong>Date:</strong> ${date}</p>
					<p>Dear Sir/Madam,</p> 
					<p>I am writing to request a duty leave from college for the day ${l_date}. The reason for this leave is ${reason}${other_reason}</p>
  					<p>I understand that this duty leave may result in me missing some coursework, lectures, and assignments, and I assure you that I will do my best to make up for any missed work upon my return. I have already consulted with my classmates and made arrangements to obtain any notes and materials I may have missed during my absence.</p>
    				<p>Furthermore, I will be reachable via email and other means of communication during my leave period to ensure that I remain up to date with any changes in the class schedule or announcements.</p>
    				<p>I greatly appreciate your understanding and consideration of my request. I am committed to my academic success and look forward to resuming my studies as soon as possible.</p>
    				<br>
    				<p>Thank you for your time and consideration.</p>
    				<p>Sincerely,</p>
    				<p><strong>${name}</strong></p>
					<p><strong>Roll Number: ${rollno}</strong></p> 
					<p><strong>Reg Number: ${regno}</strong></p>
					<p><strong>Semester: ${sem}</strong></p>
				`;
					
				
					const printWindow = window.open('', '', 'width=800,height=600');
					printWindow.document.write('<html><head><title>Duty Leave Form</title>');
					printWindow.document.write('</head><body>');
					printWindow.document.write(content);
					printWindow.document.write('</body></html>');
					printWindow.document.close();

					printWindow.print();
	}
</script>
</body>
</html>
